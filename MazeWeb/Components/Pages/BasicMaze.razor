@page "/BasicMaze"
@using labyrinth

<PageTitle>Basic Maze Visualizer</PageTitle>

<h1>Eric Weston</h1>
<input @bind="userName" />
<button @onclick="generateMaze">Generate Basic Maze</button>
<p>@pathOutOfMaze</p>

@code
{
    string userName;
    string pathOutOfMaze = "";

    void generateMaze()
    {
        
        MazeCell startLocation = MazeUtilities.mazeFor(userName);

        List<NodeLink> path = MazeUtilities.ExploreMaze(startLocation);
            IEnumerable<string> instructions = path.Select(l => l.Label);
            
            pathOutOfMaze = string.Join(", ", instructions);
            Console.WriteLine($"Path: {pathOutOfMaze} from {path.Count} nodes found");
        /* Set a breakpoint here to explore your maze! */

        if (MazeUtilities.isPathToFreedom(startLocation, pathOutOfMaze))
        {
            Console.WriteLine("Congratulations! You've found a way out of your labyrinth.");
        }
        else
        {
            Console.WriteLine("Sorry, but you're still stuck in your labyrinth.");
        }

    }
}