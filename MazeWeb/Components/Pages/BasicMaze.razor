@page "/BasicMaze"
@using labyrinth

<PageTitle>Basic Maze Visualizer</PageTitle>

<h1>Eric Weston</h1>
<input @bind="userName" />
<button @onclick="generateMaze">Generate Basic Maze</button>
<p>@pathOutOfMaze</p>

@code
{
    string userName;
    string pathOutOfMaze = "";

    void generateMaze()
    {
        
        MazeCell startLocation = MazeUtilities.mazeFor(userName);

        var startingCell = MazeUtilities.mazeFor(userName);
        var path = MazeUtilities.ExploreMaze(startingCell);
        var instructions = path.Select(node => $"{node.From.Id}[\"{node.From}\"]--{node.Label}-->{node.To.Id}[\"{node.To}\"]");
        pathOutOfMaze = "graph TD\n" + string.Join("\n", instructions);

    }
}